# Logstash configuration with unsupported ruby filter
# This should generate a Vector config with TODO markers

input {
  file {
    path => "/var/log/app.log"
    start_position => "beginning"
  }
}

filter {
  ruby {
    code => "event.set('custom_field', event.get('message').upcase)"
  }
}

output {
  elasticsearch {
    hosts => ["http://localhost:9200"]
    index => "logstash-%{+YYYY.MM.dd}"
  }
}
